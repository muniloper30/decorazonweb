---

---

<button
  id="backToTop"
  aria-label="Scroll to top"
  class="fixed bottom-6 right-6 z-50 flex items-center justify-center w-12 h-12 rounded-full bg-white shadow-lg border border-gray-200 text-gray-700 opacity-0 invisible transition-all duration-300 transform translate-y-4 hover:bg-[var(--color-primary)] hover:text-white cursor-pointer"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="w-6 h-6"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <path d="M12 20l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.893 6.139"
    ></path>
    <path d="M19 22v-6"></path>
    <path d="M22 19l-3 -3l-3 3"></path>
  </svg>
</button>

<script>
  function bindBackToTop() {
    const btn = document.getElementById("backToTop");
    if (!btn) return;

    const toggleVisibility = () => {
      if (window.scrollY > 300) {
        btn.classList.add("opacity-100", "visible", "translate-y-0");
        btn.classList.remove("opacity-0", "invisible", "translate-y-4");
      } else {
        btn.classList.add("opacity-0", "invisible", "translate-y-4");
        btn.classList.remove("opacity-100", "visible", "translate-y-0");
      }
    };

    btn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

    window.addEventListener("scroll", toggleVisibility);
    toggleVisibility(); // estado inicial
  }

  // Se engancha igual que tu Header
  document.addEventListener("DOMContentLoaded", bindBackToTop);
  document.addEventListener("astro:after-swap", bindBackToTop);
</script>
